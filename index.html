<!DOCTYPE html>
<html>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Update Feed</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@500;800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">

<body onload="LoadItems()">
    <header>
        <h1>Stache Phone | Update Feed</h1>
    </header>
    <div class="content">
        <!-- <div class="update">
            <h2>Title: Example Update</h2>
            <p>Description: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla consectetur leo ac ipsum molestie, id malesuada libero hendrerit. Donec eget nisi risus. </p>
            <p>Changed Files: file1.txt, file2.css</p>
            <p>Update Date: February 6, 2024</p>
        </div> -->
    </div>
</body>

</html>

<script>
    let items = [
        {
            id: 10,
            title: "Update 1.1.2.6",
            description: "Designs have been updated, New gallery widget added, File size optimized and improvements on Kiwitter.",
            changed: "[ui(index.html, assets, AppIcons, ControlPanelIcons)]",
            timestamp: "08.03.2024 / 04:25"
        },
        {
            id: 9,
            title: "Update 1.1.2.5",
            description: "Contacts system Infrastructure has been updated. Check server/variables.lua file and ReadMe.txt file.",
            changed: "[ui(index.html, assets)], [database_priority.lua Client/Server]",
            timestamp: "04.03.2024 / 01:15"
        },
        {
            id: 9,
            title: "Update 1.1.2.4",
            description: "Bug fixes in messages (sorting and deleting chat), notifying the other person of missed calls and adding a missed call method when not active in the game.",
            changed: "[ui(index.html, assets)], [call.lua Client/Server]",
            timestamp: "27.02.2024 / 18:00"
        },
        {
            id: 8,
            title: "Update 1.1.2.3 - Addition",
            description: "New Export added.",
            changed: "[call.lua Client], [main.lua Client]",
            timestamp: "25.02.2024 / 15:00"
        },
        {
            id: 7,
            title: "Update 1.1.2.3",
            description: "Fixed the problem of not sending money on Wallet and issues on Messages. Wallet log system has been improved.",
            changed: "[ui(index.html, assets)], Config.js, [QB/ESX/Custom Server Functions], [bluepages.lua Server], [wallet.lua Client/Server]",
            timestamp: "24.02.2024 / 19:30"
        },
        {
            id: 6,
            title: "Update 1.1.2.2",
            description: "The Messages app has been completely replaced. Includes improvements to Home notifications and many bug fixes.",
            changed: "[index.html, assets], Config.js, Config.lua, [Custom Server Functions], [Messages.lua Client/Server], main_priority.lua",
            timestamp: "22.02.2024 / 19:50"
        },
        {
            id: 5,
            title: "Update 1.1.2.1",
            description: "Includes Bug Fixes, Enhancements and Fixes.",
            changed: "[New Icons], Config.js, Config.lua, [Custom Server Functions], [Language Files]",
            timestamp: "19.02.2024 / 22:00"
        },
        {
            id: 4,
            title: "Update 1.1.1.3",
            description: "Appstore Multiple App downloads and a bunch of bug fixes.",
            changed: null,
            timestamp: "08.02.2024 / 17:40"
        },
        {
            id: 3,
            title: "Update 1.1.1.2",
            description: "Bug fixes and improvements to Menu Button and BluePages app.",
            changed: "[Language Files]",
            timestamp: "07.02.2024 / 01:02"
        },
        {
            id: 2,
            title: "Update 1.1.1",
            description: "Bugs and fixes from initial feedback have been implemented. Design improvements and Enhancements were made.",
            changed: "Config.js, [Language Files]",
            timestamp: "06.02.2024 / 16:42"
        },
        {
            id: 1,
            title: "Update 1.0.0",
            description: "The first version of the phone has been released.",
            changed: null,
            timestamp: "05.02.2024 / 12:00"
        }
    ];

    function LoadItems() {
        let ListWrapper = document.querySelector(".content");

        items.sort((a, b) => {
            return b.id - a.id;
        });

        // Test
        // for (let index = 0; index < 20; index++) {
        //     items.push(items[0]);
        // }

        for (let i = 0; i < items.length; i++) {
            let item = items[i];
            let ListItem = document.createElement("div");
            ListItem.classList.add("update");

            if (item.changed) {
                ListItem.innerHTML = `
                    <h2>${item.title}</h2>
                    <p><strong>Description:</strong> ${item.description}</p>
                    <p><strong>Changed Files:</strong> ${item.changed}</p>
                    <br>
                    <p id="TimeStamp"><strong>Update Date:</strong> ${item.timestamp}</p>
                `;
            } else {
                ListItem.innerHTML = `
                    <h2>${item.title}</h2>
                    <p><strong>Description:</strong> ${item.description}</p>
                    <br>
                    <p id="TimeStamp"><strong>Update Date:</strong> ${item.timestamp}</p>
                `;
            }

            if (i === 0) {
                let indicator = document.createElement("div");
                indicator.classList.add("indicator");
                ListItem.appendChild(indicator);
            }

            ListWrapper.appendChild(ListItem);
        }
    }

</script>

<style>

::-webkit-scrollbar {
    width: 3px;
    border-radius: 10px;
}
::-webkit-scrollbar-thumb {
    background-color: #4CAF50;
    border-radius: 10px;
}
::-webkit-scrollbar-track {
    background-color: #B2BEBF;
    border-radius: 10px;
}

@keyframes blink {
    from { 
        opacity: 1; 
        scale: 1.2;
    }
    to { 
        opacity: 0.3; 
        scale: 1;
    }
}

.indicator {
    position: absolute;
    width: 10px;
    height: 10px;
    /* background-color: #4CAF50; */
    background-color: #e34646;
    border-radius: 50%;
    animation: blink 1s infinite alternate;
    right: 0;
    margin-right: 25px;
    /* margin-top: -160px; */
    box-shadow: 0 0 10px red;
}

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

header {
    background-color: #4CAF50;
    color: white;
    padding: 20px;
    text-align: center;
}

.content {
    padding: 20px;
}

.update {
    background-color: #f4f4f4;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 20px;
}

.update h2 {
    color: #4CAF50;
}

.update p {
    margin: 5px 0;
}

</style>
